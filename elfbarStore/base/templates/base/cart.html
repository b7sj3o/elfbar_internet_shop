{% extends 'base.html' %}
{% load static %}


{% block content %}
<div class="main__title">Корзина</div>


{% if cart %}
<div class="cart__products">
    {% for item in cart %}
        <div class="cart__product">
            <div class="cart-product__img">
                <img src="{% static item.product.image %}" alt="{{item.product.image}}">
            </div>
            <div class="cart-product__name-info">
                <div class="cart-product__name">{{ item.product.name }}</div>
                <div class="cart-product__chosen-flavour">Смак: {{ item.chosen_flavour }}</div>
            </div>

            <div class="cart-product__amount">
                <button type="button" onclick="decrease('{{item.product.id}}_{{item.chosen_flavour}}', '{{ item.product.price }}')">-</button>
                <input type="number" oninput="changeValue('{{item.product.id}}_{{item.chosen_flavour}}', '{{ item.product.price }}')" value="{{item.quantity}}" min="1" max="100" id="product-value_{{item.product.id}}_{{item.chosen_flavour}}">
                <button type="button" onclick="increase('{{item.product.id}}_{{item.chosen_flavour}}', '{{ item.product.price }}')">+</button>
            </div>
            
            <div class="cart-product__price" id="{{item.product.id}}_{{item.chosen_flavour}}">{{ item.product.price }} грн.</div>

            <div class="cart-product__remove">
                <a href="{% url 'remove-from-cart' item.product.id item.chosen_flavour %}">X</a>
            </div>
        </div>
        <hr>
    {% endfor %}
    <div class="cart-product__general"><b>Загальна ціна: </b></div>
</div>
{% endif %}

<script src="{% static 'base/js/cart.js' %}"></script>
{% endblock %}